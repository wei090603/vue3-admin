import{G as e,F as a,_ as t}from"../index/index.7b73d109.js";import{x as s,o as r,n as o}from"../element-plus/element-plus.fbbbfa29.js";import{s as l}from"../../assets/index.755b2133.js";import{d as i,a2 as p,b as n,o as m,c,X as d,ab as u,ac as g,u as b,a as f,Q as j,W as h,H as y,F as v,V as x}from"../@vue/@vue.0c036a59.js";import"../dayjs/dayjs.481ce33c.js";import"../axios/axios.d56fff3c.js";import"../lodash-es/lodash-es.6278a1be.js";import"../@vueuse/@vueuse.e440a3a6.js";import"../@popperjs/@popperjs.172738d4.js";import"../@ctrl/@ctrl.17547d95.js";import"../async-validator/async-validator.234fb871.js";import"../memoize-one/memoize-one.f0fba034.js";import"../escape-html/escape-html.d572c0fd.js";import"../normalize-wheel-es/normalize-wheel-es.db30398b.js";import"../@floating-ui/@floating-ui.50900a5c.js";/* empty css                                     */import"../pinia/pinia.46e48237.js";import"../vue-demi/vue-demi.4f3c4c97.js";import"../vue-router/vue-router.fe365eba.js";import"../path-browserify/path-browserify.3d3258d8.js";import"../@element-plus/@element-plus.4f9203c7.js";import"../js-cookie/js-cookie.431252a9.js";import"../nprogress/nprogress.491658f2.js";const w={class:"operate-wrapper"},F={class:"operate-left-btn"},z=x("删除"),D={class:"operate-right-btn"},T=x("导入"),k=x("导出"),H=i({setup(i){const x=p({searchForm:{limit:10,page:1}}),H=e=>{M.currentPage=1,x.searchForm=e,P()},P=async()=>{x.searchForm.page=M.currentPage,x.searchForm.limit=M.pageSize;const{list:e,total:a}=await(t=x.searchForm,l({url:"login-logger",method:"get",params:t}));var t;M.data=e,M.total=a},S=({id:e})=>{r.confirm("确定删除该记录, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((async()=>{await(e=>l({url:`login-logger/${e}`,method:"delete"}))(e),P(),o({type:"success",message:"删除成功!"})})).catch((()=>{}))},_=p({onClickSearch:H,onClickClear:H,filters:[{type:e.input,key:"name",label:"用户名：",initialValue:"",validator:[{max:20,message:"请输入 20 个以内字符",trigger:["blur","change"]}]}]}),M=p({currentPage:1,pageSize:10,total:1,data:[],multipleTable:!0,multipleSelection:[],indexes:["序号"],dynamic:!0,hasOperation:!0,pagination:!0,pageHandleFunc:"getTableData",column:[{label:"用户名",prop:"manager",useSlot:!0},{label:"登录地址",prop:"loginAddress"},{label:"登录IP",prop:"loginIp"},{label:"登录时间",prop:"createdAt",filterParams:["formatTime","YYYY-MM-DD HH:MM:ss"]}],operation:{label:"操作",width:"200",data:[{label:"删除",type:"danger",icon:"el-icon-delete",handleFunc:"handleDel"}]}});return n((()=>{P()})),(e,r)=>{const o=s,l=t;return m(),c(v,null,[d(a,u(g(b(_))),null,16),f("div",w,[f("div",F,[d(o,{plain:"",type:"danger"},{default:j((()=>[z])),_:1})]),f("div",D,[d(o,{type:"primary"},{default:j((()=>[T])),_:1}),d(o,{type:"primary"},{default:j((()=>[k])),_:1})])]),d(l,{tableOpts:b(M),"onUpdate:tableOpts":r[0]||(r[0]=e=>y(M)?M.value=e:M=e),onGetTableData:P,onHandleDel:S},{manager:j((e=>[f("span",null,h(e.value.account),1)])),_:1},8,["tableOpts"])],64)}}});export{H as default};
