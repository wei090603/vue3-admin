import{G as e,F as a,_ as t}from"../index/index.7b73d109.js";import{x as s,K as l,o as r,n as i}from"../element-plus/element-plus.fbbbfa29.js";import{n as o,a as p}from"./notice.1e8762d5.js";import{u as n}from"../vue-router/vue-router.fe365eba.js";import{d as m,a2 as c,b as d,a1 as u,o as f,c as b,X as y,ab as j,ac as g,u as h,a as v,Q as x,P as F,U as k,H as w,F as _,V as z}from"../@vue/@vue.0c036a59.js";import"../../assets/index.755b2133.js";/* empty css                                     */import"../pinia/pinia.46e48237.js";import"../vue-demi/vue-demi.4f3c4c97.js";import"../@vueuse/@vueuse.e440a3a6.js";import"../path-browserify/path-browserify.3d3258d8.js";import"../@element-plus/@element-plus.4f9203c7.js";import"../js-cookie/js-cookie.431252a9.js";import"../axios/axios.d56fff3c.js";import"../nprogress/nprogress.491658f2.js";import"../lodash-es/lodash-es.6278a1be.js";import"../@popperjs/@popperjs.172738d4.js";import"../@ctrl/@ctrl.17547d95.js";import"../dayjs/dayjs.481ce33c.js";import"../async-validator/async-validator.234fb871.js";import"../memoize-one/memoize-one.f0fba034.js";import"../escape-html/escape-html.d572c0fd.js";import"../normalize-wheel-es/normalize-wheel-es.db30398b.js";import"../@floating-ui/@floating-ui.50900a5c.js";const D={class:"operate-wrapper"},H={class:"operate-left-btn"},M=z("新增"),Y=z("删除"),T={class:"operate-right-btn"},P=z("导入"),S=z("导出"),O=z("通知"),B=z("公告"),C=m({setup(m){const z=n(),C=c({searchForm:{limit:10,page:1}}),E=e=>{K.currentPage=1,C.searchForm=e,V()},V=async()=>{C.searchForm.page=K.currentPage,C.searchForm.limit=K.pageSize;const{list:e,total:a}=await o(C.searchForm);K.data=e,K.total=a},A=e=>{z.push({name:"noticeEdit",params:{id:e.id}})},G=({id:e})=>{r.confirm("确定删除该标签, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((async()=>{await p(e),V(),i({type:"success",message:"删除成功!"})})).catch((()=>{}))},U=c({onClickSearch:E,onClickClear:E,filters:[{type:e.input,key:"title",label:"标题：",initialValue:"",validator:[{max:20,message:"请输入 20 个以内字符",trigger:["blur","change"]}]},{type:e.input,key:"title",label:"创建人：",initialValue:"",validator:[{max:50,message:"请输入 50 个以内字符",trigger:["blur","change"]}]}]}),K=c({currentPage:1,pageSize:10,total:1,data:[],multipleTable:!0,multipleSelection:[],indexes:["序号"],dynamic:!0,hasOperation:!0,pagination:!0,pageHandleFunc:"getTableData",column:[{label:"标题",prop:"title"},{label:"类型",prop:"type",useSlot:!0},{label:"状态",prop:"status",render:e=>e?"正常":"关闭"},{label:"创建人",prop:"createBy"},{label:"创建日期",prop:"createdAt",filterParams:["formatTime","YYYY-MM-DD HH:MM:ss"]},{label:"更新日期",prop:"updatedAt",filterParams:["formatTime","YYYY-MM-DD HH:MM:ss"]}],operation:{label:"操作",width:"200",data:[{label:"编辑",type:"primary",icon:"el-icon-edit",handleFunc:"handleEdit"},{label:"删除",type:"danger",icon:"el-icon-delete",handleFunc:"handleDel"}]}});return d((()=>{V()})),(e,r)=>{const i=s,o=u("router-link"),p=l,n=t;return f(),b(_,null,[y(a,j(g(h(U))),null,16),v("div",D,[v("div",H,[y(o,{to:"/system/notice/add"},{default:x((()=>[y(i,{plain:""},{default:x((()=>[M])),_:1})])),_:1}),y(i,{plain:"",type:"danger"},{default:x((()=>[Y])),_:1})]),v("div",T,[y(i,{type:"primary"},{default:x((()=>[P])),_:1}),y(i,{type:"primary"},{default:x((()=>[S])),_:1})])]),y(n,{tableOpts:h(K),"onUpdate:tableOpts":r[0]||(r[0]=e=>w(K)?K.value=e:K=e),onGetTableData:V,onHandleEdit:A,onHandleDel:G},{type:x((e=>[1===e.value?(f(),F(p,{key:0,class:"ml-2",type:"success"},{default:x((()=>[O])),_:1})):k("",!0),2===e.value?(f(),F(p,{key:1,class:"ml-2",type:"success"},{default:x((()=>[B])),_:1})):k("",!0)])),_:1},8,["tableOpts"])],64)}}});export{C as default};
