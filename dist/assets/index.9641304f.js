import{G as a,F as e,_ as t}from"./index.3a537d10.js";import{d as l,x as s,N as r,at as i,au as n,r as o,aM as p,o as c,c as d,a as u,aA as m,aB as y,u as b,e as g,w as f,i as h,h as x,R as F,F as v,B as M,a2 as _,a1 as k}from"./vendor.2df3944f.js";/* empty css                  */import{n as D,a as Y}from"./notice.6012e01d.js";/* empty css                */import"./index.348ad088.js";/* empty css                    */const j={class:"operate-wrapper"},H={class:"operate-left-btn"},T=M("新增"),w=M("删除"),B={class:"operate-right-btn"},P=M("导入"),S=M("导出"),O=M("通知"),A=M("公告"),C=l({setup(l){const M=s(),C=r({searchForm:{limit:10,page:1}}),E=a=>{R.currentPage=1,C.searchForm=a,z()},z=async()=>{C.searchForm.page=R.currentPage,C.searchForm.limit=R.pageSize;const{list:a,total:e}=await D(C.searchForm);R.data=a,R.total=e},G=a=>{M.push({name:"noticeEdit",params:{id:a.id}})},V=({id:a})=>{_.confirm("确定删除该标签, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((async()=>{await Y(a),z(),k({type:"success",message:"删除成功!"})})).catch((()=>{}))},N=r({onClickSearch:E,onClickClear:E,filters:[{type:a.input,key:"title",label:"标题：",initialValue:"",validator:[{max:20,message:"请输入 20 个以内字符",trigger:["blur","change"]}]},{type:a.input,key:"title",label:"创建人：",initialValue:"",validator:[{max:50,message:"请输入 50 个以内字符",trigger:["blur","change"]}]}]}),R=r({currentPage:1,pageSize:10,total:1,data:[],multipleTable:!0,multipleSelection:[],indexes:["序号"],dynamic:!0,hasOperation:!0,pagination:!0,pageHandleFunc:"getTableData",column:[{label:"标题",prop:"title"},{label:"类型",prop:"type",useSlot:!0},{label:"状态",prop:"status",render:a=>a?"正常":"关闭"},{label:"创建人",prop:"createBy"},{label:"创建日期",prop:"createdAt",filterParams:["formatTime","YYYY-MM-DD HH:MM:ss"]},{label:"更新日期",prop:"updatedAt",filterParams:["formatTime","YYYY-MM-DD HH:MM:ss"]}],operation:{label:"操作",width:"200",data:[{label:"编辑",type:"primary",icon:"el-icon-edit",handleFunc:"handleEdit"},{label:"删除",type:"danger",icon:"el-icon-delete",handleFunc:"handleDel"}]}});return i((()=>{z()})),(a,l)=>{const s=n,r=o("router-link"),i=p,M=t;return c(),d(v,null,[u(e,m(y(b(N))),null,16),g("div",j,[g("div",H,[u(r,{to:"/article/article/add"},{default:f((()=>[u(s,{plain:""},{default:f((()=>[T])),_:1})])),_:1}),u(s,{plain:"",type:"danger"},{default:f((()=>[w])),_:1})]),g("div",B,[u(s,{type:"primary"},{default:f((()=>[P])),_:1}),u(s,{type:"primary"},{default:f((()=>[S])),_:1})])]),u(M,{tableOpts:b(R),"onUpdate:tableOpts":l[0]||(l[0]=a=>F(R)?R.value=a:R=a),onGetTableData:z,onHandleEdit:G,onHandleDel:V},{type:f((a=>[1===a.value?(c(),h(i,{key:0,class:"ml-2",type:"success"},{default:f((()=>[O])),_:1})):x("",!0),2===a.value?(c(),h(i,{key:1,class:"ml-2",type:"success"},{default:f((()=>[A])),_:1})):x("",!0)])),_:1},8,["tableOpts"])],64)}}});export{C as default};
