import{d as e,x as a,y as t,P as l,N as s,at as d,av as o,aw as i,ax as r,ay as n,az as u,aN as p,au as m,o as c,i as f,w as _,a as y,u as b,aC as g,B as v,a1 as V}from"./vendor.2df3944f.js";import{T as j}from"./index.a144882e.js";/* empty css                 *//* empty css                  *//* empty css                */import{b as w,c as x,d as k}from"./notice.6012e01d.js";import{_ as E,d as h}from"./index.348ad088.js";const U=v("显示"),q=v("隐藏"),C=v("保存"),A=v("重置");var N=E(e({setup(e){const v=a(),E=t(),N=l(),z=s({isAdd:"noticeAdd"===E.name,isEdit:"noticeEdit"===E.name}),B=async()=>{await P.value.validate(),z.isEdit?await x(E.params.id,F):await k(F),V({type:"success",message:z.isEdit?"修改成功":"新增成功"}),R(),v.back()},F=s({id:"",title:"",type:1,status:!0,content:""}),I={title:[{required:!0,message:"请输入通告标题",trigger:"blur"}],type:[{required:!0,message:"请选择类型",trigger:"change"}],status:[{required:!0,message:"请选择状态",trigger:"change"}]},P=l(),R=()=>{F.content="",P.value.resetFields()};return d((()=>{E.params.id&&(async e=>{const a=await w(e);F.id=a.id,F.title=a.title,F.type=a.type,F.status=a.status,F.content=a.content})(+E.params.id);h({a:1,b:2})})),(e,a)=>{const t=o,l=i,s=r,d=n,v=u,V=p,w=m;return c(),f(b(g),{ref_key:"formEle",ref:P,model:b(F),rules:I,"label-width":"100px",class:"demo-form"},{default:_((()=>[y(l,{label:"标题：",prop:"title"},{default:_((()=>[y(t,{modelValue:b(F).title,"onUpdate:modelValue":a[0]||(a[0]=e=>b(F).title=e)},null,8,["modelValue"])])),_:1}),y(l,{label:"类型：",prop:"type"},{default:_((()=>[y(d,{modelValue:b(F).type,"onUpdate:modelValue":a[1]||(a[1]=e=>b(F).type=e),placeholder:"请选择类型"},{default:_((()=>[y(s,{label:"通知",value:1}),y(s,{label:"公告",value:2})])),_:1},8,["modelValue"])])),_:1}),y(l,{label:"状态：",prop:"status"},{default:_((()=>[y(V,{modelValue:b(F).status,"onUpdate:modelValue":a[2]||(a[2]=e=>b(F).status=e)},{default:_((()=>[y(v,{label:!0},{default:_((()=>[U])),_:1}),y(v,{label:!1},{default:_((()=>[q])),_:1})])),_:1},8,["modelValue"])])),_:1}),y(l,{label:"内容：",prop:"content"},{default:_((()=>[y(j,{ref_key:"editorRef",ref:N,content:b(F).content,"onUpdate:content":a[3]||(a[3]=e=>b(F).content=e)},null,8,["content"])])),_:1}),y(l,null,{default:_((()=>[y(w,{type:"primary",onClick:B},{default:_((()=>[C])),_:1}),y(w,{onClick:a[4]||(a[4]=e=>R())},{default:_((()=>[A])),_:1})])),_:1})])),_:1},8,["model"])}}}),[["__scopeId","data-v-5dd12baa"]]);export{N as default};
