import{_ as e,d as a,$ as t,a2 as l,e as s,r as d,v as o,y as i,z as r,A as n,B as u,C as p,a3 as c,x as m,o as f,f as _,w as y,l as b,u as g,G as V,I as v,E as j}from"./index.83fac2ba.js";import{T as w}from"./index.79302078.js";/* empty css                 *//* empty css                  *//* empty css                */import{b as E,c as k,d as x}from"./notice.d2d9e02a.js";const h=v("显示"),U=v("隐藏"),q=v("保存"),A=v("重置");var C=e(a({setup(e){const a=t(),v=l(),C=s(),I=d({isAdd:"noticeAdd"===v.name,isEdit:"noticeEdit"===v.name}),z=async()=>{await G.value.validate(),I.isEdit?await k(v.params.id,B):await x(B),j({type:"success",message:I.isEdit?"修改成功":"新增成功"}),R(),a.back()},B=d({id:"",title:"",type:1,status:!0,content:""}),F={title:[{required:!0,message:"请输入通告标题",trigger:"blur"}],type:[{required:!0,message:"请选择类型",trigger:"change"}],status:[{required:!0,message:"请选择状态",trigger:"change"}]},G=s(),R=()=>{B.content="",G.value.resetFields()};return o((()=>{v.params.id&&(async e=>{const a=await E(e);B.id=a.id,B.title=a.title,B.type=a.type,B.status=a.status,B.content=a.content})(+v.params.id)})),(e,a)=>{const t=i,l=r,s=n,d=u,o=p,v=c,j=m;return f(),_(g(V),{ref_key:"formEle",ref:G,model:g(B),rules:F,"label-width":"100px",class:"demo-form"},{default:y((()=>[b(l,{label:"标题：",prop:"title"},{default:y((()=>[b(t,{modelValue:g(B).title,"onUpdate:modelValue":a[0]||(a[0]=e=>g(B).title=e)},null,8,["modelValue"])])),_:1}),b(l,{label:"类型：",prop:"type"},{default:y((()=>[b(d,{modelValue:g(B).type,"onUpdate:modelValue":a[1]||(a[1]=e=>g(B).type=e),placeholder:"请选择类型"},{default:y((()=>[b(s,{label:"通知",value:1}),b(s,{label:"公告",value:2})])),_:1},8,["modelValue"])])),_:1}),b(l,{label:"状态：",prop:"status"},{default:y((()=>[b(v,{modelValue:g(B).status,"onUpdate:modelValue":a[2]||(a[2]=e=>g(B).status=e)},{default:y((()=>[b(o,{label:!0},{default:y((()=>[h])),_:1}),b(o,{label:!1},{default:y((()=>[U])),_:1})])),_:1},8,["modelValue"])])),_:1}),b(l,{label:"内容：",prop:"content"},{default:y((()=>[b(w,{ref_key:"editorRef",ref:C,content:g(B).content,"onUpdate:content":a[3]||(a[3]=e=>g(B).content=e)},null,8,["content"])])),_:1}),b(l,null,{default:y((()=>[b(j,{type:"primary",onClick:z},{default:y((()=>[q])),_:1}),b(j,{onClick:a[4]||(a[4]=e=>R())},{default:y((()=>[A])),_:1})])),_:1})])),_:1},8,["model"])}}}),[["__scopeId","data-v-5a6a966a"]]);export{C as default};
