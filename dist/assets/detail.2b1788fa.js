import{_ as e,d as a,$ as t,a2 as l,e as s,r as d,v as o,af as i,y as r,z as n,A as u,B as p,C as c,a3 as m,x as f,o as _,f as y,w as b,l as g,u as V,G as v,I as j,E as w}from"./index.83fac2ba.js";import{T as E}from"./index.79302078.js";/* empty css                 *//* empty css                  *//* empty css                */import{b as k,c as x,d as h}from"./notice.d2d9e02a.js";const U=j("显示"),q=j("隐藏"),A=j("保存"),C=j("重置");var I=e(a({setup(e){const a=t(),j=l(),I=s(),z=d({isAdd:"noticeAdd"===j.name,isEdit:"noticeEdit"===j.name}),B=async()=>{await R.value.validate(),z.isEdit?await x(j.params.id,F):await h(F),w({type:"success",message:z.isEdit?"修改成功":"新增成功"}),T(),a.back()},F=d({id:"",title:"",type:1,status:!0,content:""}),G={title:[{required:!0,message:"请输入通告标题",trigger:"blur"}],type:[{required:!0,message:"请选择类型",trigger:"change"}],status:[{required:!0,message:"请选择状态",trigger:"change"}]},R=s(),T=()=>{F.content="",R.value.resetFields()};return o((()=>{j.params.id&&(async e=>{const a=await k(e);F.id=a.id,F.title=a.title,F.type=a.type,F.status=a.status,F.content=a.content})(+j.params.id);i({a:1,b:2})})),(e,a)=>{const t=r,l=n,s=u,d=p,o=c,i=m,j=f;return _(),y(V(v),{ref_key:"formEle",ref:R,model:V(F),rules:G,"label-width":"100px",class:"demo-form"},{default:b((()=>[g(l,{label:"标题：",prop:"title"},{default:b((()=>[g(t,{modelValue:V(F).title,"onUpdate:modelValue":a[0]||(a[0]=e=>V(F).title=e)},null,8,["modelValue"])])),_:1}),g(l,{label:"类型：",prop:"type"},{default:b((()=>[g(d,{modelValue:V(F).type,"onUpdate:modelValue":a[1]||(a[1]=e=>V(F).type=e),placeholder:"请选择类型"},{default:b((()=>[g(s,{label:"通知",value:1}),g(s,{label:"公告",value:2})])),_:1},8,["modelValue"])])),_:1}),g(l,{label:"状态：",prop:"status"},{default:b((()=>[g(i,{modelValue:V(F).status,"onUpdate:modelValue":a[2]||(a[2]=e=>V(F).status=e)},{default:b((()=>[g(o,{label:!0},{default:b((()=>[U])),_:1}),g(o,{label:!1},{default:b((()=>[q])),_:1})])),_:1},8,["modelValue"])])),_:1}),g(l,{label:"内容：",prop:"content"},{default:b((()=>[g(E,{ref_key:"editorRef",ref:I,content:V(F).content,"onUpdate:content":a[3]||(a[3]=e=>V(F).content=e)},null,8,["content"])])),_:1}),g(l,null,{default:b((()=>[g(j,{type:"primary",onClick:B},{default:b((()=>[A])),_:1}),g(j,{onClick:a[4]||(a[4]=e=>T())},{default:b((()=>[C])),_:1})])),_:1})])),_:1},8,["model"])}}}),[["__scopeId","data-v-84394a4a"]]);export{I as default};
