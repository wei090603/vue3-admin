import{G as a,F as e,_ as t}from"./index.3a537d10.js";import{d as l,N as r,at as s,au as n,o,c as i,a as p,aA as c,aB as d,u as m,e as u,w as g,t as b,R as h,F as f,B as y,a2 as F,a1 as v}from"./vendor.2df3944f.js";import{s as x}from"./index.348ad088.js";/* empty css                *//* empty css                  *//* empty css                    */const j={class:"operate-wrapper"},w={class:"operate-left-btn"},D=y("删除"),T={class:"operate-right-btn"},P=y("导入"),S=y("导出"),_=l({setup(l){const y=r({searchForm:{limit:10,page:1}}),_=a=>{M.currentPage=1,y.searchForm=a,k()},k=async()=>{y.searchForm.page=M.currentPage,y.searchForm.limit=M.pageSize;const{list:a,total:e}=await(t=y.searchForm,x({url:"login-logger",method:"get",params:t}));var t;M.data=a,M.total=e},B=({id:a})=>{F.confirm("确定删除该记录, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((async()=>{await(a=>x({url:`login-logger/${a}`,method:"delete"}))(a),k(),v({type:"success",message:"删除成功!"})})).catch((()=>{}))},H=r({onClickSearch:_,onClickClear:_,filters:[{type:a.input,key:"name",label:"用户名：",initialValue:"",validator:[{max:20,message:"请输入 20 个以内字符",trigger:["blur","change"]}]}]}),M=r({currentPage:1,pageSize:10,total:1,data:[],multipleTable:!0,multipleSelection:[],indexes:["序号"],dynamic:!0,hasOperation:!0,pagination:!0,pageHandleFunc:"getTableData",column:[{label:"用户名",prop:"manager",useSlot:!0},{label:"登录地址",prop:"loginAddress"},{label:"登录IP",prop:"loginIp"},{label:"登录时间",prop:"createdAt",filterParams:["formatTime","YYYY-MM-DD HH:MM:ss"]}],operation:{label:"操作",width:"200",data:[{label:"删除",type:"danger",icon:"el-icon-delete",handleFunc:"handleDel"}]}});return s((()=>{k()})),(a,l)=>{const r=n,s=t;return o(),i(f,null,[p(e,c(d(m(H))),null,16),u("div",j,[u("div",w,[p(r,{plain:"",type:"danger"},{default:g((()=>[D])),_:1})]),u("div",T,[p(r,{type:"primary"},{default:g((()=>[P])),_:1}),p(r,{type:"primary"},{default:g((()=>[S])),_:1})])]),p(s,{tableOpts:m(M),"onUpdate:tableOpts":l[0]||(l[0]=a=>h(M)?M.value=a:M=a),onGetTableData:k,onHandleDel:B},{manager:g((a=>[u("span",null,b(a.value.account),1)])),_:1},8,["tableOpts"])],64)}}});export{_ as default};
