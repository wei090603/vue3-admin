import{G as e,F as a,_ as t}from"./index-8ec3dbae.js";import{b as s,a as l,e as r,I as i}from"./element-plus-6d3da066.js";import{c as o,d as p}from"./notice-03efe734.js";import{u as n}from"./vue-router-ef0e62c7.js";import{d as c,a2 as m,b as d,a1 as u,o as b,c as f,X as y,ab as g,ac as j,u as h,a as v,Q as F,P as x,U as _,H as k,F as D,V as H}from"./@vue-b1347690.js";import"./index-68e6e469.js";/* empty css                      */import"./pinia-89efd9b3.js";import"./vue-demi-5b9a0fa5.js";import"./nprogress-2caf32ee.js";import"./axios-aec7d438.js";import"./js-cookie-1db5286e.js";import"./lodash-es-b6050654.js";import"./@vueuse-7bacca58.js";import"./@popperjs-91a2fff2.js";import"./@ctrl-eb0b847c.js";import"./dayjs-2378ce3f.js";import"./async-validator-ec45d329.js";import"./memoize-one-99e54574.js";import"./escape-html-4bbaf1e1.js";import"./normalize-wheel-es-eea50788.js";import"./@floating-ui-a9dc73ab.js";const M={class:"operate-wrapper"},Y={class:"operate-left-btn"},T=H("新增"),w=H("删除"),P={class:"operate-right-btn"},z=H("导入"),S=H("导出"),O=H("通知"),B=H("公告"),C=c({setup(c){const H=n(),C=m({searchForm:{limit:10,page:1}}),E=e=>{I.currentPage=1,C.searchForm=e,V()},V=async()=>{C.searchForm.page=I.currentPage,C.searchForm.limit=I.pageSize;const{list:e,total:a}=await o(C.searchForm);I.data=e,I.total=a},A=e=>{H.push({name:"noticeEdit",params:{id:e.id}})},G=({id:e})=>{s.confirm("确定删除该标签, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((async()=>{await p(e),V(),l({type:"success",message:"删除成功!"})})).catch((()=>{}))},U=m({onClickSearch:E,onClickClear:E,filters:[{type:e.input,key:"title",label:"标题：",initialValue:"",validator:[{max:20,message:"请输入 20 个以内字符",trigger:["blur","change"]}]},{type:e.input,key:"title",label:"创建人：",initialValue:"",validator:[{max:50,message:"请输入 50 个以内字符",trigger:["blur","change"]}]}]}),I=m({currentPage:1,pageSize:10,total:1,data:[],multipleTable:!0,multipleSelection:[],indexes:["序号"],dynamic:!0,hasOperation:!0,pagination:!0,pageHandleFunc:"getTableData",column:[{label:"标题",prop:"title"},{label:"类型",prop:"type",useSlot:!0},{label:"状态",prop:"status",render:e=>e?"正常":"关闭"},{label:"创建人",prop:"createBy"},{label:"创建日期",prop:"createdAt",filterParams:["formatTime","YYYY-MM-DD HH:MM:ss"]},{label:"更新日期",prop:"updatedAt",filterParams:["formatTime","YYYY-MM-DD HH:MM:ss"]}],operation:{label:"操作",width:"200",data:[{label:"编辑",type:"primary",icon:"el-icon-edit",handleFunc:"handleEdit"},{label:"删除",type:"danger",icon:"el-icon-delete",handleFunc:"handleDel"}]}});return d((()=>{V()})),(e,s)=>{const l=r,o=u("router-link"),p=i,n=t;return b(),f(D,null,[y(a,g(j(h(U))),null,16),v("div",M,[v("div",Y,[y(o,{to:"/system/notice/add"},{default:F((()=>[y(l,{plain:""},{default:F((()=>[T])),_:1})])),_:1}),y(l,{plain:"",type:"danger"},{default:F((()=>[w])),_:1})]),v("div",P,[y(l,{type:"primary"},{default:F((()=>[z])),_:1}),y(l,{type:"primary"},{default:F((()=>[S])),_:1})])]),y(n,{tableOpts:h(I),"onUpdate:tableOpts":s[0]||(s[0]=e=>k(I)?I.value=e:I=e),onGetTableData:V,onHandleEdit:A,onHandleDel:G},{type:F((e=>[1===e.value?(b(),x(p,{key:0,class:"ml-2",type:"success"},{default:F((()=>[O])),_:1})):_("",!0),2===e.value?(b(),x(p,{key:1,class:"ml-2",type:"success"},{default:F((()=>[B])),_:1})):_("",!0)])),_:1},8,["tableOpts"])],64)}}});export{C as default};
