import{c as e,d as a,e as s,f as o}from"./element-plus-6d3da066.js";import{_ as r,u as t,a as p}from"./index-ca8e81d2.js";import{d as i,a2 as l,r as d,o as n,c as m,X as c,Q as u,u as f,a8 as j,a0 as w,av as y,aw as g,V as b,a as v}from"./@vue-b1347690.js";import{u as x}from"./vue-router-ef0e62c7.js";import{a as h,l as _}from"./@element-plus-e6cd7fa9.js";import"./lodash-es-b6050654.js";import"./@vueuse-7bacca58.js";import"./@popperjs-91a2fff2.js";import"./@ctrl-eb0b847c.js";import"./dayjs-2378ce3f.js";import"./axios-aec7d438.js";import"./async-validator-ec45d329.js";import"./memoize-one-99e54574.js";import"./escape-html-4bbaf1e1.js";import"./normalize-wheel-es-eea50788.js";import"./@floating-ui-a9dc73ab.js";/* empty css                      */import"./pinia-89efd9b3.js";import"./vue-demi-5b9a0fa5.js";import"./nprogress-2caf32ee.js";import"./js-cookie-1db5286e.js";const V={class:"login-container"},k=(e=>(y("data-v-27452662"),e=e(),g(),e))((()=>v("div",{class:"title-container"},[v("h3",{class:"title"},"Login")],-1))),T=b("登录");var K=r(i({setup(r){const i=x(),y=t(),g=l({passwordType:"password"}),b=l({account:"",password:"123456"}),v=d({account:[{required:!0,trigger:"blur",message:"用户名不能为空"}],password:[{required:!0,trigger:"blur",message:"密码不能为空"},{min:6,max:30,trigger:"blur",message:"密码长度不正确"}]}),K=d(),q=async()=>{if(await K.value.validate()){await y.loginAction(b);const{redirect:e}=i.currentRoute.value.query;i.replace({path:e||"/"})}},z=()=>{g.passwordType="password"===g.passwordType?"text":"password"};return(r,t)=>{const i=e,l=a,d=p,y=s;return n(),m("div",V,[c(f(o),{ref_key:"loginForm",ref:K,model:f(b),rules:v.value,class:"login-form center","label-position":"right"},{default:u((()=>[k,c(l,{prop:"account"},{default:u((()=>[c(i,{modelValue:f(b).account,"onUpdate:modelValue":t[0]||(t[0]=e=>f(b).account=e),placeholder:"请输入用户名 admin | test",name:"username",type:"text","prefix-icon":f(h),onKeyup:j(q,["enter"])},null,8,["modelValue","prefix-icon","onKeyup"])])),_:1}),c(l,{prop:"password"},{default:u((()=>[c(i,{modelValue:f(b).password,"onUpdate:modelValue":t[1]||(t[1]=e=>f(b).password=e),type:"password"==f(g).passwordType?"password":"text",placeholder:"请输入密码",name:"password","prefix-icon":f(_),onKeyup:j(q,["enter"])},{suffix:u((()=>[c(d,{class:"show-pwd",onClick:z,name:"password"===f(g).passwordType?"eye":"eye-open"},null,8,["name"])])),_:1},8,["modelValue","type","prefix-icon","onKeyup"])])),_:1}),c(y,{type:"primary",style:{width:"100%"},onClick:w(q,["prevent"])},{default:u((()=>[T])),_:1},8,["onClick"])])),_:1},8,["model","rules"])])}}}),[["__scopeId","data-v-27452662"]]);export{K as default};
