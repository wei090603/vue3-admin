import{y as e,z as a,A as t,B as s,C as o,L as l,x as i,D as r,n as d}from"./element-plus-c3f3467b.js";import{b as m,c as p,d as n}from"./notice-f237c64b.js";import{u,a as c}from"./vue-router-f341a4d8.js";import{T as f}from"./index-dad92c29.js";import{_ as b}from"./index-1dd190b0.js";import{d as j,r as y,a2 as _,b as g,o as v,P as V,Q as h,X as w,u as k,V as x}from"./@vue-722b6523.js";import"./lodash-es-b6050654.js";import"./@vueuse-b2b875ad.js";import"./@popperjs-91a2fff2.js";import"./@ctrl-eb0b847c.js";import"./dayjs-2378ce3f.js";import"./axios-aec7d438.js";import"./async-validator-ec45d329.js";import"./memoize-one-99e54574.js";import"./escape-html-4bbaf1e1.js";import"./normalize-wheel-es-eea50788.js";import"./@floating-ui-a9dc73ab.js";import"./@tinymce-a5168de7.js";/* empty css                      */import"./pinia-f7ddc81d.js";import"./vue-demi-5b9a0fa5.js";import"./path-browserify-42f42cef.js";import"./@element-plus-d2a6d80a.js";import"./js-cookie-1db5286e.js";import"./nprogress-2caf32ee.js";const E=x("显示"),z=x("隐藏"),U=x("保存"),q=x("重置");var A=b(j({setup(b){const j=u(),x=c(),A=y(),C=_({isAdd:"noticeAdd"===x.name,isEdit:"noticeEdit"===x.name}),B=async()=>{await I.value.validate(),C.isEdit?await p(x.params.id,D):await n(D),d({type:"success",message:C.isEdit?"修改成功":"新增成功"}),L(),j.back()},D=_({id:"",title:"",type:1,status:!0,content:""}),F={title:[{required:!0,message:"请输入通告标题",trigger:"blur"}],type:[{required:!0,message:"请选择类型",trigger:"change"}],status:[{required:!0,message:"请选择状态",trigger:"change"}]},I=y(),L=()=>{D.content="",I.value.resetFields()};return g((()=>{x.params.id&&(async e=>{const a=await m(e);D.id=a.id,D.title=a.title,D.type=a.type,D.status=a.status,D.content=a.content})(+x.params.id)})),(d,m)=>{const p=e,n=a,u=t,c=s,b=o,j=l,y=i;return v(),V(k(r),{ref_key:"formEle",ref:I,model:k(D),rules:F,"label-width":"100px",class:"demo-form"},{default:h((()=>[w(n,{label:"标题：",prop:"title"},{default:h((()=>[w(p,{modelValue:k(D).title,"onUpdate:modelValue":m[0]||(m[0]=e=>k(D).title=e)},null,8,["modelValue"])])),_:1}),w(n,{label:"类型：",prop:"type"},{default:h((()=>[w(c,{modelValue:k(D).type,"onUpdate:modelValue":m[1]||(m[1]=e=>k(D).type=e),placeholder:"请选择类型"},{default:h((()=>[w(u,{label:"通知",value:1}),w(u,{label:"公告",value:2})])),_:1},8,["modelValue"])])),_:1}),w(n,{label:"状态：",prop:"status"},{default:h((()=>[w(j,{modelValue:k(D).status,"onUpdate:modelValue":m[2]||(m[2]=e=>k(D).status=e)},{default:h((()=>[w(b,{label:!0},{default:h((()=>[E])),_:1}),w(b,{label:!1},{default:h((()=>[z])),_:1})])),_:1},8,["modelValue"])])),_:1}),w(n,{label:"内容：",prop:"content"},{default:h((()=>[w(f,{ref_key:"editorRef",ref:A,content:k(D).content,"onUpdate:content":m[3]||(m[3]=e=>k(D).content=e)},null,8,["content"])])),_:1}),w(n,null,{default:h((()=>[w(y,{type:"primary",onClick:B},{default:h((()=>[U])),_:1}),w(y,{onClick:m[4]||(m[4]=e=>L())},{default:h((()=>[q])),_:1})])),_:1})])),_:1},8,["model"])}}}),[["__scopeId","data-v-63142f32"]]);export{A as default};
