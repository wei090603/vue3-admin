import{y as e,z as a,x as s,D as o}from"./element-plus-c3f3467b.js";import{_ as r,u as t,a as p}from"./index-1dd190b0.js";import{d as i,a2 as d,r as l,o as n,c as m,X as c,Q as u,u as f,a8 as j,a0 as w,av as y,aw as b,V as g,a as v}from"./@vue-722b6523.js";import{u as x}from"./vue-router-f341a4d8.js";import{j as h,l as _}from"./@element-plus-d2a6d80a.js";import"./lodash-es-b6050654.js";import"./@vueuse-b2b875ad.js";import"./@popperjs-91a2fff2.js";import"./@ctrl-eb0b847c.js";import"./dayjs-2378ce3f.js";import"./axios-aec7d438.js";import"./async-validator-ec45d329.js";import"./memoize-one-99e54574.js";import"./escape-html-4bbaf1e1.js";import"./normalize-wheel-es-eea50788.js";import"./@floating-ui-a9dc73ab.js";/* empty css                      */import"./pinia-f7ddc81d.js";import"./vue-demi-5b9a0fa5.js";import"./path-browserify-42f42cef.js";import"./js-cookie-1db5286e.js";import"./nprogress-2caf32ee.js";const V={class:"login-container"},k=(e=>(y("data-v-44bafcdc"),e=e(),b(),e))((()=>v("div",{class:"title-container"},[v("h3",{class:"title"},"Login")],-1))),T=g("登录");var z=r(i({setup(r){const i=x(),y=t(),b=d({passwordType:"password"}),g=d({account:"admin",password:"123456"}),v=l({account:[{required:!0,trigger:"blur",message:"用户名不能为空"}],password:[{required:!0,trigger:"blur",message:"密码不能为空"},{min:6,max:30,trigger:"blur",message:"密码长度不正确"}]}),z=l(),K=async()=>{if(await z.value.validate()){await y.loginAction(g);const{redirect:e}=i.currentRoute.value.query;i.replace({path:e||"/"})}},q=()=>{b.passwordType="password"===b.passwordType?"text":"password"};return(r,t)=>{const i=e,d=a,l=p,y=s;return n(),m("div",V,[c(f(o),{ref_key:"loginForm",ref:z,model:f(g),rules:v.value,class:"login-form center","label-position":"right"},{default:u((()=>[k,c(d,{prop:"account"},{default:u((()=>[c(i,{modelValue:f(g).account,"onUpdate:modelValue":t[0]||(t[0]=e=>f(g).account=e),placeholder:"请输入用户名",name:"username",type:"text","prefix-icon":f(h),onKeyup:j(K,["enter"])},null,8,["modelValue","prefix-icon","onKeyup"])])),_:1}),c(d,{prop:"password"},{default:u((()=>[c(i,{modelValue:f(g).password,"onUpdate:modelValue":t[1]||(t[1]=e=>f(g).password=e),type:"password"==f(b).passwordType?"password":"text",placeholder:"请输入密码",name:"password","prefix-icon":f(_),onKeyup:j(K,["enter"])},{suffix:u((()=>[c(l,{class:"show-pwd",onClick:q,name:"password"===f(b).passwordType?"eye":"eye-open"},null,8,["name"])])),_:1},8,["modelValue","type","prefix-icon","onKeyup"])])),_:1}),c(y,{type:"primary",style:{width:"100%"},onClick:w(K,["prevent"])},{default:u((()=>[T])),_:1},8,["onClick"])])),_:1},8,["model","rules"])])}}}),[["__scopeId","data-v-44bafcdc"]]);export{z as default};
