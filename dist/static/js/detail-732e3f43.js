import{w as e,x as a,y as t,z as s,A as o,J as l,v as i,B as r,n as d}from"./element-plus-027274dd.js";import{b as m,c as p,d as n}from"./notice-eda23534.js";import{u,a as c}from"./vue-router-5335ed28.js";import{T as f}from"./index-725cc6e8.js";import{_ as j,d as b}from"./index-2a49149a.js";import{d as y,r as _,a2 as g,b as v,o as V,P as h,Q as w,X as k,u as x,V as E}from"./@vue-fa3c77af.js";import"./lodash-es-b6050654.js";import"./@vueuse-8f917d05.js";import"./@popperjs-91a2fff2.js";import"./@ctrl-eb0b847c.js";import"./dayjs-2378ce3f.js";import"./axios-aec7d438.js";import"./async-validator-ec45d329.js";import"./memoize-one-99e54574.js";import"./escape-html-4bbaf1e1.js";import"./normalize-wheel-es-eea50788.js";import"./@floating-ui-a9dc73ab.js";import"./@tinymce-1fd50a49.js";/* empty css                      */import"./pinia-7aec78c7.js";import"./vue-demi-5b9a0fa5.js";import"./path-browserify-42f42cef.js";import"./@element-plus-e18b2c24.js";import"./js-cookie-1db5286e.js";import"./nprogress-2caf32ee.js";const z=E("显示"),U=E("隐藏"),q=E("保存"),A=E("重置");var C=j(y({setup(j){const y=u(),E=c(),C=_(),B=g({isAdd:"noticeAdd"===E.name,isEdit:"noticeEdit"===E.name}),F=async()=>{await P.value.validate(),B.isEdit?await p(E.params.id,I):await n(I),d({type:"success",message:B.isEdit?"修改成功":"新增成功"}),Q(),y.back()},I=g({id:"",title:"",type:1,status:!0,content:""}),J={title:[{required:!0,message:"请输入通告标题",trigger:"blur"}],type:[{required:!0,message:"请选择类型",trigger:"change"}],status:[{required:!0,message:"请选择状态",trigger:"change"}]},P=_(),Q=()=>{I.content="",P.value.resetFields()};return v((()=>{E.params.id&&(async e=>{const a=await m(e);I.id=a.id,I.title=a.title,I.type=a.type,I.status=a.status,I.content=a.content})(+E.params.id);b({a:1,b:2})})),(d,m)=>{const p=e,n=a,u=t,c=s,j=o,b=l,y=i;return V(),h(x(r),{ref_key:"formEle",ref:P,model:x(I),rules:J,"label-width":"100px",class:"demo-form"},{default:w((()=>[k(n,{label:"标题：",prop:"title"},{default:w((()=>[k(p,{modelValue:x(I).title,"onUpdate:modelValue":m[0]||(m[0]=e=>x(I).title=e)},null,8,["modelValue"])])),_:1}),k(n,{label:"类型：",prop:"type"},{default:w((()=>[k(c,{modelValue:x(I).type,"onUpdate:modelValue":m[1]||(m[1]=e=>x(I).type=e),placeholder:"请选择类型"},{default:w((()=>[k(u,{label:"通知",value:1}),k(u,{label:"公告",value:2})])),_:1},8,["modelValue"])])),_:1}),k(n,{label:"状态：",prop:"status"},{default:w((()=>[k(b,{modelValue:x(I).status,"onUpdate:modelValue":m[2]||(m[2]=e=>x(I).status=e)},{default:w((()=>[k(j,{label:!0},{default:w((()=>[z])),_:1}),k(j,{label:!1},{default:w((()=>[U])),_:1})])),_:1},8,["modelValue"])])),_:1}),k(n,{label:"内容：",prop:"content"},{default:w((()=>[k(f,{ref_key:"editorRef",ref:C,content:x(I).content,"onUpdate:content":m[3]||(m[3]=e=>x(I).content=e)},null,8,["content"])])),_:1}),k(n,null,{default:w((()=>[k(y,{type:"primary",onClick:F},{default:w((()=>[q])),_:1}),k(y,{onClick:m[4]||(m[4]=e=>Q())},{default:w((()=>[A])),_:1})])),_:1})])),_:1},8,["model"])}}}),[["__scopeId","data-v-84394a4a"]]);export{C as default};
