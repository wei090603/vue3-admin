import{w as e,x as a,v as s,B as o}from"./element-plus-027274dd.js";import{_ as r,u as t,a as p}from"./index-2a49149a.js";import{d as i,a2 as l,r as n,o as d,c as m,X as c,Q as u,u as f,a8 as j,a0 as w,av as y,aw as g,V as v,a as b}from"./@vue-fa3c77af.js";import{u as x}from"./vue-router-5335ed28.js";import{j as h,l as _}from"./@element-plus-e18b2c24.js";import"./lodash-es-b6050654.js";import"./@vueuse-8f917d05.js";import"./@popperjs-91a2fff2.js";import"./@ctrl-eb0b847c.js";import"./dayjs-2378ce3f.js";import"./axios-aec7d438.js";import"./async-validator-ec45d329.js";import"./memoize-one-99e54574.js";import"./escape-html-4bbaf1e1.js";import"./normalize-wheel-es-eea50788.js";import"./@floating-ui-a9dc73ab.js";/* empty css                      */import"./pinia-7aec78c7.js";import"./vue-demi-5b9a0fa5.js";import"./path-browserify-42f42cef.js";import"./js-cookie-1db5286e.js";import"./nprogress-2caf32ee.js";const V={class:"login-container"},k=(e=>(y("data-v-407aa600"),e=e(),g(),e))((()=>b("div",{class:"title-container"},[b("h3",{class:"title"},"Login")],-1))),T=v("登录");var K=r(i({setup(r){const i=x(),y=t(),g=l({passwordType:"password"}),v=l({account:"admin",password:"123456"}),b=n({account:[{required:!0,trigger:"blur",message:"用户名不能为空"}],password:[{required:!0,trigger:"blur",message:"密码不能为空"},{min:6,max:30,trigger:"blur",message:"密码长度不正确"}]}),K=n(),q=async()=>{if(await K.value.validate()){await y.loginAction(v);const{redirect:e}=i.currentRoute.value.query;i.replace({path:e||"/"})}},z=()=>{g.passwordType="password"===g.passwordType?"text":"password"};return(r,t)=>{const i=e,l=a,n=p,y=s;return d(),m("div",V,[c(f(o),{ref_key:"loginForm",ref:K,model:f(v),rules:b.value,class:"login-form center","label-position":"right"},{default:u((()=>[k,c(l,{prop:"account"},{default:u((()=>[c(i,{modelValue:f(v).account,"onUpdate:modelValue":t[0]||(t[0]=e=>f(v).account=e),placeholder:"请输入用户名",name:"username",type:"text","prefix-icon":f(h),onKeyup:j(q,["enter"])},null,8,["modelValue","prefix-icon","onKeyup"])])),_:1}),c(l,{prop:"password"},{default:u((()=>[c(i,{modelValue:f(v).password,"onUpdate:modelValue":t[1]||(t[1]=e=>f(v).password=e),type:"password"==f(g).passwordType?"password":"text",placeholder:"请输入密码",name:"password","prefix-icon":f(_),onKeyup:j(q,["enter"])},{suffix:u((()=>[c(n,{class:"show-pwd",onClick:z,name:"password"===f(g).passwordType?"eye":"eye-open"},null,8,["name"])])),_:1},8,["modelValue","type","prefix-icon","onKeyup"])])),_:1}),c(y,{type:"primary",style:{width:"100%"},onClick:w(q,["prevent"])},{default:u((()=>[T])),_:1},8,["onClick"])])),_:1},8,["model","rules"])])}}}),[["__scopeId","data-v-407aa600"]]);export{K as default};
